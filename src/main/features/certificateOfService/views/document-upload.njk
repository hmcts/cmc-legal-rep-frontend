{% extends "layout.njk" %}

{% set title = t('Money claim') %}
{% set heading = t('Upload your documents') %}

{% from "form.njk" import csrfProtection, saveAndContinueButton, errorSummary, submitButton %}

{% block content %}
  <div class="grid-row">
    <div class="column-two-thirds">
      {% if not fileToUpload %}
        <form novalidate method="post">
          {{ csrfProtection(csrf) }}
      {% endif %}
        <p>{{ t('Use this page to send the County Court the following documents youâ€™ve served on the defendant.') }}</p>

        <div class="form-group">
          <label class="form-label-bold">{{ t('Claim form') }}</label>
          <label class="form-hint">{{ t('Not required') }}</label>
        </div>

        <div class="form-group">
          <label class="form-label-bold">{{ t('Particulars of claim') }}</label>
          {% if particularsOfClaim.length > 0 %}
            <div class="form-group task">
              <ul class="list-number">
                {% for file in particularsOfClaim %}
                  <li>
                    <div class="column-two-thirds">
                      <a target="_blank" href="/legal/certificateOfService/document-download?selfPath={{ file.documentManagementURI }}&fileName={{ file.fileName }}">{{ file.fileName }}</a>
                    </div>
                    <div class="column-third">
                      <a class="" href="#">Remove</a>
                    </div>
                  </li>
                {% endfor %}
              </ul>
            </div>
          {% endif %}
          {% if fileToUpload.value == 'PARTICULARS_OF_CLAIM' %}
              {% include "includes/file-upload-form.njk" %}
          {% else %}
            <input type="submit" name="particularsOfClaim" class="button button-secondary" value="{{ t('Add file') }}"{% if fileToUpload %} disabled{% endif %} />
          {% endif %}
        </div>

        <div class="form-group">
          <label class="form-label-bold">{{ t('Response pack') }}</label>
          <label class="form-hint">{{ t('Not required') }}</label>
        </div>

        {% if whatDocuments.types.indexOf('medicalReport') != -1 %}
          <div class="form-group">
            <label class="form-label-bold">{{ t('Medical reports') }}</label>
            {% if medicalReport.length > 0 %}
              <div class="form-group task">
                <ul class="list-number">
                  {% for file in medicalReport %}
                    <li>
                      <div class="column-two-thirds">
                        <a target="_blank" href="/legal/certificateOfService/document-download?selfPath={{ file.documentManagementURI }}&fileName={{ file.fileName }}">{{ file.fileName }}</a>
                      </div>
                      <div class="column-third">
                        <a class="" href="#">Remove</a>
                      </div>
                    </li>
                  {% endfor %}
                </ul>
              </div>
            {% endif %}
            {% if fileToUpload.value == 'MEDICAL_REPORTS' %}
              {% include "includes/file-upload-form.njk" %}
            {% else %}
              <input type="submit" name="medicalReport" class="button button-secondary" value="{{ t('Add file') }}"{% if fileToUpload %} disabled{% endif %} />
            {% endif %}
          </div>
        {% endif %}

        {% if whatDocuments.types.indexOf('scheduleOfLoss') != -1 %}
          <div class="form-group">
            <label class="form-label-bold">{{ t('Schedule of loss') }}</label>
            {% if scheduleOfLoss.length > 0 %}
              <div class="form-group task">
                <ul class="list-number">
                  {% for file in scheduleOfLoss %}
                    <li>
                      <div class="column-two-thirds">
                        <a target="_blank" href="/legal/certificateOfService/document-download?selfPath={{ file.documentManagementURI }}&fileName={{ file.fileName }}">{{ file.fileName }}</a>
                      </div>
                      <div class="column-third">
                        <a class="" href="#">Remove</a>
                      </div>
                    </li>
                  {% endfor %}
                </ul>
              </div>
            {% endif %}
            {% if fileToUpload.value == 'SCHEDULE_OF_LOSS' %}
              {% include "includes/file-upload-form.njk" %}
            {% else %}
              <input type="submit" name="scheduleOfLoss" class="button button-secondary" value="{{ t('Add file') }}"{% if fileToUpload %} disabled{% endif %} />
            {% endif %}
          </div>
        {% endif %}

        {% if whatDocuments.types.indexOf('other') != -1 %}
          <div class="form-group">
            <label for="other" class="form-label-bold">{{ t('Other') }}</label>
            <label for="other" class="form-hint">{{ whatDocuments.otherDocuments }}</label>
            {% if other.length > 0 %}
              <div class="form-group task">
                <ul class="list-number">
                  {% for file in other %}
                    <li>
                      <div class="column-two-thirds">
                        <a target="_blank" href="/legal/certificateOfService/document-download?selfPath={{ file.documentManagementURI }}&fileName={{ file.fileName }}">{{ file.fileName }}</a>
                      </div>
                      <div class="column-third">
                        <a class="" href="#">Remove</a>
                      </div>
                    </li>
                  {% endfor %}
                </ul>
              </div>
            {% endif %}
            {% if fileToUpload.value == 'OTHER' %}
              {% include "includes/file-upload-form.njk" %}
            {% else %}
              <input type="submit" name="other" class="button button-secondary" value="{{ t('Add file') }}"{% if fileToUpload %} disabled{% endif %} />
            {% endif %}
          </div>
        {% endif %}
    {% if not fileToUpload %}
      </form>
    {% endif %}
    </div>
  </div>

{% endblock %}
